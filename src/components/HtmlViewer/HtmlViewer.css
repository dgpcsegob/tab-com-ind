/* Base */
.html-viewer {
  position: fixed; bottom: 0; left: 0; right: 0;
  z-index: 1500;
  max-height: 80vh; min-height: 60px;
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(8px);
  border-top: 2px solid var(--primary-color);
  box-shadow: 0 -4px 20px rgba(0,0,0,.15);
  transition: all .3s cubic-bezier(.4,0,.2,1);
  display: flex; flex-direction: column; overflow: hidden;
}
.html-viewer.light {
  --bg-primary:rgba(255, 255, 255, 0.);
  --bf-backdrop-filter: blur(8px); 
  --bg-secondary:#f8fafc; 
  --text-primary:#1a1a1a; 
  --text-secondary:#64748b;
  --border:#e2e8f0; 
  --primary-color:#9b2247;
  --secondary-color:#f3e4b8; 
  --hover-bg:#f3f4f6;
}
/* .html-viewer.dark {
  --bg-primary:#1f2937; --bg-secondary:#0f172a; --text-primary:#f1f5f9; --text-secondary:#94a3b8;
  --border:#334155; --primary-color:#9b2247; --hover-bg:#374151; */
/* } */

.html-viewer.minimized { max-height: 60px; min-height: 60px; }

/* Header superior */
.html-viewer-header{
  display:flex; justify-content:space-between; align-items:center;
  padding:.75rem; background:var(--bg-primary); border-bottom:1px solid var(--border);
  min-height:70px; user-select:none;
}
.html-viewer-header:hover{ background:var(--hover-bg); }
.header-left{ display:flex; flex-direction:column; gap:.25rem; flex:1; min-width:0; }
.header-left h3{ margin:0; font-size:1.8rem; font-weight:700; color:#9b2247; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.header-controls{ display:flex; gap:.5rem; align-items:center; }
.minimize-btn,.close-btn{
  background:#611232; border:1px solid var(--border); border-radius:6px; cursor:pointer;
  width:30px; height:30px; display:flex; align-items:center; justify-content:center; font-size:13px; color:#fff; transition:all .2s;
}
.minimize-btn{ background:#9b2247; border-color:#9b2247; }
.minimize-btn::before{
  content:''; width:0;height:0; border-left:6px solid transparent; border-right:6px solid transparent; border-top:8px solid #fff; transition:transform .2s;
}
.html-viewer.minimized .minimize-btn::before{ border-top:none; border-bottom:8px solid #fff; }

/* Contenido scrollable */
.html-viewer-content{ flex:1; overflow:hidden; background:var(--bg-secondary); display:flex; flex-direction:column; }

/* ===== Encabezado (NO sticky) ===== */
.community-header{
  background:var(--bg-primary); border-bottom:2px solid var(--border);
  padding:.75rem; flex-shrink:0; overflow-x:auto; /* una sola fila con scroll si no cabe */
}
.community-header::-webkit-scrollbar{ height:8px; }
.community-header::-webkit-scrollbar-thumb{ background:var(--border); border-radius:4px; }

/* LÍNEA 1: 5 columnas SIEMPRE en una fila */
.header-line1{
  display: flex;
  flex-wrap: nowrap;         /* siempre una sola fila */
  gap: .5rem;
  align-items: stretch;
  width: max-content;        /* se expande al tamaño del contenido */
  margin-bottom: .5rem;
}

.header-line1 .header-item{
  flex: 0 0 auto;            /* ancho según contenido */
  white-space: nowrap;       /* no partir en 2 líneas */
  overflow: visible;         /* NO ocultar */
  text-overflow: clip;       /* sin … */
}

/* Tarjetas: tamaño base razonable, pero se pueden expandir por contenido */
.header-item{
  display:flex; flex-direction:column; gap:.25rem; padding:.5rem;
  background:var(--bg-secondary); border:1px solid var(--border); border-radius:6px;
  min-width: 220px;          /* base para que no queden diminutas */
  width: max-content;        /* crece para mostrar todo el texto */
}

/* Puedes afinar mínimos por campo si quieres más aire: */
.header-item.eml { min-width: 380px; }  /* E/M/L suele ser larga */
.header-item.ua  { min-width: 300px; }  /* Unidad Administrativa */

/* La clase clamp-1 ya NO debe recortar */
.clamp-1{ white-space:nowrap; overflow:visible; text-overflow:clip; }
.header-item.full-width{ grid-column:1 / -1; }
.ua-box{ border-width:2px; border-color:#9b2247; background:rgba(155,34,71,.05); }
.header-label{ font-size:.72rem; font-weight:700; color:var(--primary-color); text-transform:uppercase; letter-spacing:.4px; }
.header-value{ font-size:.9rem; color:var(--text-primary); font-weight:600; word-break:break-word; }
.clamp-1{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

/* Navegación (NO sticky) */
.sections-navigation{ background:var(--bg-primary); border-bottom:2px solid var(--border); padding:.5rem .75rem; flex-shrink:0; }
.sections-buttons{ display:flex; flex-wrap:wrap; gap:.4rem; }
.section-btn{
  background:var(--bg-secondary); border:1px solid var(--border); border-radius:6px;
  padding:.4rem .75rem; cursor:pointer; font-size:.82rem; font-weight:600; color:var(--text-secondary);
  transition:all .2s; white-space:nowrap;
}
.section-btn:hover{ background:var(--hover-bg); border-color:var(--primary-color); color:var(--text-primary); transform:translateY(-1px); }
.section-btn.active{ background:var(--primary-color); border-color:var(--primary-color); color:#fff; font-weight:700; }
.section-btn.active:hover{ background:#8a1e3a; }

/* Contenido HTML embebido */
.html-content{ flex:1; overflow:auto; padding:.75rem; background:var(--bg-primary); color:var(--text-primary); line-height:1.6; }
.html-content .row{ margin-bottom:.6rem; }
.html-content h6{ color:var(--primary-color)!important; font-weight:600!important; margin:.4rem 0 .2rem!important; font-size:.88rem!important; }
.html-content p{ margin:0 0 .45rem!important; color:var(--text-primary)!important; font-size:.88rem!important; }
.html-content *{ max-width:100%!important; box-sizing:border-box; }
.html-content table{ width:100%!important; border-collapse:collapse; margin:.75rem 0; font-size:.83rem; background:var(--bg-primary);
  border-radius:6px; overflow:hidden; box-shadow:0 2px 8px rgba(0,0,0,.1); }
.html-content th,.html-content td{ padding:.6rem .45rem; border:1px solid var(--border); text-align:left; vertical-align:top; }
.html-content th{ background:var(--primary-color); color:#fff!important; font-weight:600; font-size:.78rem; }

/* Scrollbar contenido */
.html-content::-webkit-scrollbar{ width:8px; }
.html-content::-webkit-scrollbar-thumb{ background:var(--border); border-radius:4px; }

/* Responsive: la línea 1 sigue siendo una sola fila gracias al min-width + scroll-x */
@media (max-width: 768px){
  .html-viewer{ max-height:80vh; }
  .header-left h3{ font-size:.98rem; }
  .minimize-btn,.close-btn{ width:28px; height:28px; font-size:12px; }
  .html-content{ padding:.6rem; }
}
@media (max-width: 480px){
  .html-viewer{ max-height:85vh; }
  .header-left h3{ font-size:.9rem; }
  .sections-buttons{ display:grid; grid-template-columns: repeat(2, 1fr); gap:.25rem; }
  .section-btn{ padding:.45rem .25rem; font-size:.74rem; text-align:center; }
}

/* Print */
@media print{
  .html-viewer{ position:static; max-height:none; box-shadow:none; border:none; }
  .sections-navigation{ display:none; }
  .html-content{ overflow:visible; }
}

.gmaps-embed-wrap {
  position: relative;      /* ancla absoluta del botón */
  display: inline-block;
  width: 100%;
  max-width: 100%;
}

.gmaps-embed-wrap > iframe {
  display: block;          /* evita “gaps” inline */
  width: 100%;             /* responsive */
  border: 0;
  border-radius: 6px;
}

.sv-explore-btn {
  /* JS ya setea estilos inline, pero por si hay overrides */
  position: absolute !important;
  top: 10px !important;
  right: 10px !important;
  z-index: 5 !important;
}
